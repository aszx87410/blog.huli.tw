<!DOCTYPE html>
<html class="has-navbar-fixed-top" lang="en">
<head>
    <meta charset="utf-8">
<title>How to write console.log(1) without using letters and numbers in JavaScript? - Huli&#39;s blog</title>
<meta name="viewport" content="width=device-width, initial-scale=1">



            
<link href="https://blog.huli.tw/2020/12/01/write-conosle-log-1-without-alphanumeric/" rel="alternate" hreflang="zh-TW" />
            
    




    
<link rel="canonical" href="https://blog.huli.tw/2020/12/01/en/write-conosle-log-1-without-alphanumeric/">
    





    <meta name="description" content="IntroductionRecently, my colleagues at work took a course on information security. As I was already interested in information security, I discussed it with my colleagues, which led me to research rela">
<meta property="og:type" content="article">
<meta property="og:title" content="How to write console.log(1) without using letters and numbers in JavaScript?">
<meta property="og:url" content="https://blog.huli.tw/2020/12/01/en/write-conosle-log-1-without-alphanumeric/index.html">
<meta property="og:site_name" content="Huli&#39;s blog">
<meta property="og:description" content="IntroductionRecently, my colleagues at work took a course on information security. As I was already interested in information security, I discussed it with my colleagues, which led me to research rela">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://blog.huli.tw/img/write-conosle-log-1-without-alphanumeric/cover-en.png">
<meta property="article:published_time" content="2020-12-01T12:54:18.000Z">
<meta property="article:modified_time" content="2023-06-20T05:46:56.935Z">
<meta property="article:author" content="Huli">
<meta property="article:tag" content="JavaScript">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://blog.huli.tw/img/write-conosle-log-1-without-alphanumeric/cover-en.png">



<link rel="alternative" href="/atom.xml" title="How to write console.log(1) without using letters and numbers in JavaScript?" type="application/atom+xml">



<link rel="icon" href="/img/lidemy_logo.png">


<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ovo|Source+Code+Pro">


<link rel="stylesheet" href="/css/bulma.css?v=2.css">



<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/css/lightgallery.min.css">


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" />


<link rel="stylesheet" href="/css/style.css?v=3.css">





    
    
    
    
    
    
    
    
    
    
<script async src="https://www.googletagmanager.com/gtag/js?id=G-1393J2EVCZ"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-1393J2EVCZ');
</script>


    


<meta name="generator" content="Hexo 6.3.0"></head>
<body>
    <script>
        if (localStorage.getItem('dark-mode')) {
            if (localStorage.getItem('dark-mode') === 'true') {
                document.body.classList.add('dark-mode')
            }
        } else {
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                document.body.classList.add('dark-mode')
            }
        }
    </script>
    
<nav class="navbar is-transparent is-fixed-top navbar-main" role="navigation" aria-label="main navigation">
    <div class="container">
        <div class="navbar-brand">
            <a class="navbar-item navbar-logo" href="/en">
                
                    
                    Huli&#39;s blog
                    
                
            </a>
            <div class="navbar-burger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
        
        <div class="navbar-menu navbar-start">
            
            <a class="navbar-item "
               href="/en/archives">Archive</a>
            
            <a class="navbar-item "
               href="/en/categories">Categories</a>
            
            <a class="navbar-item "
               href="/en/about">About</a>
            
        </div>
        
        <div class="navbar-menu navbar-end">
            
            
            <div class="navbar-item is-hoverable has-dropdown is-hidden-mobile is-hidden-tablet-only toc">
                <a class="navbar-item" title="Table of Contents">
                    Table of Contents
                </a>
                <div class="navbar-dropdown">
                    
                    
                    
                    
                    <a class="navbar-item" href="#introduction">1&nbsp;&nbsp;<b>Introduction</b></a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#analysis-of-key-points-for-solving-the-problem">2&nbsp;&nbsp;<b>Analysis of key points for solving the problem</b></a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#conclusion">3&nbsp;&nbsp;<b>Conclusion</b></a>
                    
                </div>
            </div>
            
            
            <a class="navbar-item" target="_blank" title="Twitter" href="https://twitter.com/aszx87410">
                
                <i class="fab fa-twitter"></i>
                
            </a>
               
            <a class="navbar-item" target="_blank" title="RSS" href="/atom.xml">
                
                <i class="fas fa-rss"></i>
                
            </a>
               
            
            <a class="navbar-item btn-dark-mode" title="dark-mode" href="#">
                <div>
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="15" height="15" viewBox="0 0 256 256" xml:space="preserve">
                    <defs>
                    </defs>
                    <g style="stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;" transform="translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)" >
                        <path d="M 87.823 60.7 c -0.463 -0.423 -1.142 -0.506 -1.695 -0.214 c -15.834 8.398 -35.266 2.812 -44.232 -12.718 c -8.966 -15.53 -4.09 -35.149 11.101 -44.665 c 0.531 -0.332 0.796 -0.963 0.661 -1.574 c -0.134 -0.612 -0.638 -1.074 -1.259 -1.153 c -9.843 -1.265 -19.59 0.692 -28.193 5.66 C 13.8 12.041 6.356 21.743 3.246 33.35 S 1.732 57.08 7.741 67.487 c 6.008 10.407 15.709 17.851 27.316 20.961 C 38.933 89.486 42.866 90 46.774 90 c 7.795 0 15.489 -2.044 22.42 -6.046 c 8.601 -4.966 15.171 -12.43 18.997 -21.586 C 88.433 61.79 88.285 61.123 87.823 60.7 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: #ffa716; fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
                    </g>
                    </svg>
                </div>
            </a>
            
               <a class="navbar-item" href="/2020/12/01/write-conosle-log-1-without-alphanumeric/">中文</a>
            
            

        </div>
    </div>
</nav>

    <section class="section">
    <div class="container">
      
      <div data-nosnippet class="self-notice">
        If you have any thoughts on my blog or articles and you want to let me know, you can either post a comment below(public) or tell me via this <a href="https://forms.gle/SjJZ4cnNs6NnjXQG8" target="_blank">feedback form</a>
      </div>
      
    <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            How to write console.log(1) without using letters and numbers in JavaScript?
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2020-12-01T12:54:18.000Z" itemprop="datePublished">1 December 2020</time>
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/en/categories/JavaScript/">JavaScript</a>
        </span>
        
        
        
        <spen data-nosnippet class="column is-narrow">(Translated by ChatGPT)</span>
        
    </div>
    
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <h2><span id="introduction">Introduction</span></h2><p>Recently, my colleagues at work took a course on information security. As I was already interested in information security, I discussed it with my colleagues, which led me to research related topics for the past two weeks. These were things I had heard of before but had not studied seriously, such as LFI (Local File Inclusion), REC (Remote code execution), SSRF (Server-Side Request Forgery), and various magical filters in PHP. I also reviewed SQL Injection and XSS, which I was already relatively familiar with.</p>
<p>In CTF challenges, situations often arise where you need to bypass various restrictions, which is an opportunity to test your understanding of specific protocols or programming languages. You have to think about how to find at least one way to successfully bypass those restrictions under existing limitations.</p>
<p>Originally, I didn’t know what to write about this week. I wanted to write about the things mentioned above, but I hadn’t figured out how to organize them yet. The follow-up series of “I Don’t know React” was not yet organized, so I thought it would be fun to do a little challenge related to “bypassing restrictions” with everyone. That is:</p>
<blockquote>
<p>In JavaScript, can you successfully execute console.log(1) without using letters and numbers?</p>
</blockquote>
<p>In other words, no English letters (a-zA-Z) or numbers (0-9) can appear in the code. Everything else (various symbols) is allowed. After executing the code, console.log(1) will be executed, and 1 will be printed in the console.</p>
<p>If you have thought of any interesting services or libraries that can do this before, don’t mention them yet. Before that, you can think about it yourself and see if you can write it out, and then check other people’s solutions.</p>
<p>If you can write it all by yourself from scratch, it means that you should be quite familiar with the JS programming language and various automatic type conversions.</p>
<p>Below, I will provide some of my own thoughts and the process of solving this problem. There are spoilers, so don’t scroll down if you haven’t solved it yet.</p>
<p>&#x3D;&#x3D; Spoiler Alert &#x3D;&#x3D;<br>&#x3D;&#x3D; Spoiler Alert &#x3D;&#x3D;<br>&#x3D;&#x3D; Spoiler Alert &#x3D;&#x3D;<br>&#x3D;&#x3D; Spoiler Alert &#x3D;&#x3D;<br>&#x3D;&#x3D; Spoiler Alert &#x3D;&#x3D;  </p>
<span id="more"></span>

<p>&#x3D;&#x3D; Spoiler Alert &#x3D;&#x3D;<br>&#x3D;&#x3D; Spoiler Alert &#x3D;&#x3D;<br>&#x3D;&#x3D; Spoiler Alert &#x3D;&#x3D;<br>&#x3D;&#x3D; Spoiler Alert &#x3D;&#x3D;<br>&#x3D;&#x3D; Spoiler Alert &#x3D;&#x3D;<br>&#x3D;&#x3D; Spoiler Alert &#x3D;&#x3D;<br>&#x3D;&#x3D; Spoiler Alert &#x3D;&#x3D;<br>&#x3D;&#x3D; Spoiler Alert &#x3D;&#x3D;  </p>
<h2><span id="analysis-of-key-points-for-solving-the-problem">Analysis of key points for solving the problem</span></h2><p>To successfully execute <code>console.log(1)</code> as required by the problem, several things must be done, such as:</p>
<ol>
<li>Find out how to execute the code</li>
<li>How to get numbers without using letters and numbers</li>
<li>How to get letters without using letters and numbers</li>
</ol>
<p>If these three points are all solved, the requirements of the problem should be met.</p>
<p>Let’s first think about the first point: “How to execute the code?”</p>
<p>Directly using <code>console.log</code> is impossible because even if you use a string to concatenate console, you cannot execute the function with a string like <a target="_blank" rel="noopener" href="https://www.php.net/manual/en/functions.variable-functions.php">PHP</a>.</p>
<p>What about eval? You can put a string in eval, so you can execute any code! But the problem is that we can’t use eval because we can’t type English letters.</p>
<p>What other methods are there? You can also use the function constructor: <code>new Function(&quot;console.log(1)&quot;)</code> to execute, but the problem is that we can’t use the keyword “new,” so at first glance, it doesn’t work. However, you don’t need “new” either. You can create a function that can execute specific code with <code>Function(&quot;console.log(1)&quot;)</code>.</p>
<p>So the next question is: How can we get the function constructor? If we can get it, we have a chance.</p>
<p>In JS, you can use <code>.constructor</code> to get the constructor of something, such as <code>&quot;&quot;.constructor</code>, which will get: <code>ƒ String() &#123; [native code] &#125;</code>. If you have a function today, you can get the function constructor, like this: <code>(()=&gt;&#123;&#125;).constructor</code>, and because we can expect that this problem will concatenate various things with strings, we can’t use <code>.constructor</code> directly, so we should change it to: <code>(()=&gt;&#123;&#125;)[&#39;constructor&#39;]</code>.</p>
<p>What if ES6 is not supported? What if you can’t support arrow functions? Is there a way to get a function?</p>
<p>Yes, and it’s easy, it’s all built-in functions, such as <code>[][&#39;fill&#39;][&#39;constructor&#39;]</code>, which is actually <code>[].fill.constructor</code>, or <code>&quot;&quot;[&#39;slice&#39;][&#39;constructor&#39;]</code>, which can also get the function constructor. So this is not a difficult task, even without arrow functions.</p>
<p>Initially, we expected the code to be like this: <code>Function(&#39;console.log(1)&#39;)()</code>. If we rewrite it using the method mentioned above, we will replace <code>Function</code> with <code>(()=&gt;&#123;&#125;)[&#39;constructor&#39;]</code>, which becomes <code>(()=&gt;&#123;&#125;)[&#39;constructor&#39;](&#39;console.log(1)&#39;)()</code>. </p>
<p>Once we have this code, the problem of executing the function is solved. So, we have solved the first problem.</p>
<p>Next, let’s think about how to generate numbers. The key here is JS coercion. If you have read some articles on JS type conversion, you may remember that <code>&#123;&#125;+[]</code> can give the number 0. Using the <code>!</code> operator, we can get false, for example, <code>![]</code> or <code>!&#123;&#125;</code> both give false. Then, adding two false values gives 0: <code>![]+![]</code>. Similarly, <code>![]</code> is false, so adding a not operator before it gives <code>!![]</code>, which is true. Therefore, <code>![] + !![]</code> is equal to false + true, which is 0 + 1, resulting in 1.</p>
<p>There is also a shorter method. Using <code>+[]</code>, we can get 0 through automatic type conversion. So, <code>+!![]</code> gives 1. Once we have 1, we can generate all numbers by adding 1 repeatedly. Alternatively, we can use bitwise operators <code>&lt;&lt;</code> and <code>&gt;&gt;</code> or multiplication. For example, to generate 8, we can use <code>1 &lt;&lt; 3</code> or <code>2 &lt;&lt; 2</code>. To generate 2, we can use <code>(+!![])+(+!![])</code>. Therefore, <code>(+!![])+(+!![]) &lt;&lt; (+!![])+(+!![])</code> gives 8, which requires only four 1s, instead of adding 8 times.</p>
<p>However, we can ignore the length for now and focus on whether we can generate 1. Once we have 1, we have won.</p>
<p>Finally, we need to figure out how to generate strings, or in other words, how to generate each character in <code>(()=&gt;&#123;&#125;)[&#39;constructor&#39;](&#39;console.log(1)&#39;)()</code>. The key is coercion, just like with numbers. As mentioned earlier, <code>![]</code> gives false, and adding a string to it, <code>![] + &#39;&#39;</code>, gives <code>&quot;false&quot;</code>. This way, we can get the characters a, e, f, l, and s. For example, <code>(![] + &#39;&#39;)[1]</code> is a. To make it easier to remember, let’s write a small program:</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> mapping <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token string">"(![] + '')[1]"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">e</span><span class="token operator">:</span> <span class="token string">"(![] + '')[4]"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">f</span><span class="token operator">:</span> <span class="token string">"(![] + '')[0]"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">l</span><span class="token operator">:</span> <span class="token string">"(![] + '')[2]"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">s</span><span class="token operator">:</span> <span class="token string">"(![] + '')[3]"</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>Once we have false, getting true is not difficult. <code>!![] + &#39;&#39;</code> gives <code>true</code>. So, we can modify our code to:</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> mapping <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token string">"(![] + '')[1]"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">e</span><span class="token operator">:</span> <span class="token string">"(![] + '')[4]"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">f</span><span class="token operator">:</span> <span class="token string">"(![] + '')[0]"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">l</span><span class="token operator">:</span> <span class="token string">"(![] + '')[2]"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">r</span><span class="token operator">:</span> <span class="token string">"(!![] + '')[1]"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">s</span><span class="token operator">:</span> <span class="token string">"(![] + '')[3]"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">t</span><span class="token operator">:</span> <span class="token string">"(!![] + '')[0]"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">u</span><span class="token operator">:</span> <span class="token string">"(!![] + '')[2]"</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>Next, we can use coercion again. Using <code>&#39;&#39;+&#123;&#125;</code> gives <code>&quot;[object Object]&quot;</code> (or you can use the magical <code>[]+&#123;&#125;</code>). Our table can be updated as follows:</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> mapping <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token string">"(![] + '')[1]"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token string">"(''+&#123;&#125;)[2]"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token string">"(''+&#123;&#125;)[5]"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">e</span><span class="token operator">:</span> <span class="token string">"(![] + '')[4]"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">f</span><span class="token operator">:</span> <span class="token string">"(![] + '')[0]"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">j</span><span class="token operator">:</span> <span class="token string">"(''+&#123;&#125;)[3]"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">l</span><span class="token operator">:</span> <span class="token string">"(![] + '')[2]"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">o</span><span class="token operator">:</span> <span class="token string">"(''+&#123;&#125;)[1]"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">r</span><span class="token operator">:</span> <span class="token string">"(!![] + '')[1]"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">s</span><span class="token operator">:</span> <span class="token string">"(![] + '')[3]"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">t</span><span class="token operator">:</span> <span class="token string">"(!![] + '')[0]"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">u</span><span class="token operator">:</span> <span class="token string">"(!![] + '')[2]"</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>What happens when we get a non-existent property from an array or object? We get undefined. Adding a string to undefined gives us the string “undefined”, for example, <code>[][&#123;&#125;]+&#39;&#39;</code> gives <code>undefined</code>. After getting undefined, our conversion table becomes more complete:</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> mapping <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token string">"(![] + '')[1]"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token string">"(''+&#123;&#125;)[2]"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token string">"(''+&#123;&#125;)[5]"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">d</span><span class="token operator">:</span> <span class="token string">"([][&#123;&#125;]+'')[2]"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">e</span><span class="token operator">:</span> <span class="token string">"(![] + '')[4]"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">f</span><span class="token operator">:</span> <span class="token string">"(![] + '')[0]"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">i</span><span class="token operator">:</span> <span class="token string">"([][&#123;&#125;]+'')[5]"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">j</span><span class="token operator">:</span> <span class="token string">"(''+&#123;&#125;)[3]"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">l</span><span class="token operator">:</span> <span class="token string">"(![] + '')[2]"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">n</span><span class="token operator">:</span> <span class="token string">"([][&#123;&#125;]+'')[1]"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">o</span><span class="token operator">:</span> <span class="token string">"(''+&#123;&#125;)[1]"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">r</span><span class="token operator">:</span> <span class="token string">"(!![] + '')[1]"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">s</span><span class="token operator">:</span> <span class="token string">"(![] + '')[3]"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">t</span><span class="token operator">:</span> <span class="token string">"(!![] + '')[0]"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">u</span><span class="token operator">:</span> <span class="token string">"(!![] + '')[2]"</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>Looking at the conversion table and our target string, <code>(()=&gt;&#123;&#125;)[&#39;constructor&#39;](&#39;console[&quot;log&quot;](1)&#39;)()</code>, we can see that generating <code>constructor</code> and <code>console</code> is not a problem, but we are missing the <code>g</code> in log. This character is not in our conversion table.</p>
<p>Therefore, we must get the <code>g</code> from somewhere to generate the string we want. Alternatively, we can use another method to get the character.</p>
<p>I thought of two methods initially. The first method is to use base conversion. When we use <code>toString</code> to convert a number to a string, we can specify the radix parameter, which represents the base to which the number is converted. For example, <code>(10).toString(16)</code> gives a because the decimal number 10 is equivalent to the hexadecimal number a. There are 26 English letters and 10 numbers, so we can use <code>(10).toString(36)</code> to get a and <code>(16).toString(36)</code> to get g. However, the problem is that <code>toString</code> itself has a <code>g</code>, which we don’t have right now, so this method won’t work.</p>
<p>The other method I thought of is to use base64. JS has two built-in functions: <code>btoa</code> and <code>atob</code>. <code>btoa</code> encodes a string into base64, for example, <code>btoa(&#39;abc&#39;)</code> gives YWJj, and <code>atob(&#39;YWJj&#39;)</code> decodes it to abc.</p>
<p>We just need to find a way to have a “g” in the result after base64 encoding. This can be achieved by running the code <code>btoa(2)[1]</code>, which returns the string “Mg&#x3D;&#x3D;”, and taking the second character, which is “g”. However, we need to execute this code using the function constructor, like this: <code>(()=&gt;&#123;&#125;)[&#39;constructor&#39;](&#39;return btoa(2)[1]&#39;)()</code>. </p>
<p>To achieve this, we can use a mapping of characters to their corresponding code, and a function to transform the code into a string. We can also write a function to remove all characters from a string, leaving only the numbers. </p>
<p>Finally, we can combine all of our efforts to produce the desired output: <code>console.log(1)</code> with all letters and numbers removed. However, since <code>btoa</code> is a Web API and not available in Node.js, we need to find another way to generate the “g” character. We can use the string constructor and add a string to it to get its contents, like this: <code>&#39;&#39;[&#39;constructor&#39;] + &#39;&#39;</code>, which returns the string “function String() { [native code] }”. We can then get the “g” character by using <code>(&#39;&#39;[&#39;constructor&#39;] + &#39;&#39;)[7+7]</code>.</p>
<p>So far, we have used 1800 characters to successfully create a program that only contains the following 12 characters: <code>[</code>, <code>]</code>, <code>(</code>, <code>)</code>, <code>&#123;</code>, <code>&#125;</code>, <code>&quot;</code>, <code>&#39;</code>, <code>+</code>, <code>!</code>, <code>=</code>, <code>&gt;</code>, and can execute <code>console.log(1)</code>.</p>
<p>And because we can now get these few characters, we can use the previously mentioned method of base conversion to get any lowercase character, like this:</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">mapping<span class="token punctuation">[</span><span class="token string">'S'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">transform</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">return (''['constructor'] + '')[9]</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
mapping<span class="token punctuation">[</span><span class="token string">'g'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">transform</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">return (''['constructor'] + '')[7+7]</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">transform</span><span class="token punctuation">(</span><span class="token string">'return (35).toString(36)'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// z</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>So how do we get any uppercase character, or even any character? I have thought of a few ways.</p>
<p>If you want to get any character, you can use <code>String.fromCharCode</code>, or write it in another form: <code>&quot;&quot;[&#39;constructor&#39;][&#39;fromCharCode&#39;]</code>, to get any character. But before that, we need to figure out how to get the uppercase C.</p>
<p>In addition to this approach, there is another one that relies on encoding, such as <code>&#39;\u0043&#39;</code>, which is actually the uppercase C. So I thought I could use this method to piece it together, but it didn’t work when I tried it. For example, <code>console.log(&quot;\u0043&quot;)</code> will print C correctly, but <code>console.log((&quot;\u00&quot; + &quot;43&quot;))</code> will give you an error. It seems that encoding cannot be pieced together in this way (which makes sense when you think about it).</p>
<h2><span id="conclusion">Conclusion</span></h2><p>In fact, I have written a post before: <a target="_blank" rel="noopener" href="https://blog.techbridge.cc/2016/07/16/javascript-jsfuck-and-aaencode/">Making JavaScript Hard to Read: jsfuck and aaencode</a>, which talks about the same thing, but I only organized it a little bit before. This time, I tried it myself and it feels different.</p>
<p>The conversion function that was finally written is not complete and cannot execute any code. I didn’t finish it because the <a target="_blank" rel="noopener" href="https://github.com/aemkei/jsfuck">jsfuck</a> library has already written it very clearly, with a detailed description of its conversion process in the README, and it only uses 6 characters, which is really impressive.</p>
<p>In its <a target="_blank" rel="noopener" href="https://github.com/aemkei/jsfuck/blob/master/jsfuck.js">code</a>, you can also see how its conversion is done. The uppercase C part uses a function called <code>italics</code> on the String, which can generate <code>&lt;i&gt;&lt;/i&gt;</code>. After generating it, call escape to escape it, and you will get <code>%3Ci%3E%3C/i%3E</code>, and then you have the uppercase C.</p>
<p>Some people may think that they write their code well on a regular basis, so why bother doing this? But the point of doing this is not the final result, but to train a few things, such as:</p>
<ol>
<li>Familiarity with programming languages. We used many type conversions and built-in methods to piece things together, some of which you may have never heard of.</li>
<li>Problem-solving and the ability to narrow down the scope. From how to execute a string as a function, to piecing together numbers and strings, step by step narrowing down the problem, solving the sub-problems, and then solving the original problem.</li>
</ol>
<p>Anyway, the above is my thought process for solving this problem. If you have any interesting solutions, please leave a comment and let me know (such as other ways to get the uppercase letter C). Thank you!</p>

    
    </div>
    
    <div class="columns is-variable is-1 is-multiline is-mobile">
    
        <span class="column is-narrow"><a class="tag is-light article-tag" href="/en/tags/JavaScript/">#JavaScript</a></span>
    
    </div>
    
    
    <div class="columns is-mobile is-multiline article-nav">
        <span class="column is-12-mobile is-half-desktop  article-nav-prev">
            
            <a href="/2020/12/26/en/javascript-date-time-and-timezone/">A Brief Discussion on Time and Timezone Handling in JavaScript</a>
            
        </span>
        <span class="column is-12-mobile is-half-desktop  article-nav-next">
            
            <a href="/2020/10/31/en/i-dont-know-react-1/">I don&#39;t know React (Part 1)</a>
            
        </span>
    </div>
    
</article>




<div class="comments">
    <h3 class="title is-4">Comments</h3>
    <script src="https://utteranc.es/client.js"
        repo="aszx87410/huli-blog"
        issue-term="title"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
</div>

    </div>
</section>
    <footer class="footer">
    <div class="container">
        <div class="columns content">
            <div class="column is-narrow has-text-centered">
                &copy; 2023 Huli&nbsp;
                Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> & <a
                        target="_blank" rel="noopener" href="http://github.com/ppoffice/hexo-theme-minos">Minos</a>
            </div>
            <div class="column is-hidden-mobile"></div>

            
            <div class="column is-narrow">
                <div class="columns is-mobile is-multiline is-centered">
                
                    
                <a class="column is-narrow" title="GitHub" target="_blank" rel="noopener" href="https://github.com/ppoffice/hexo-theme-minos">
                    
                    GitHub
                    
                </a>
                
                </div>
            </div>
            
            
<div class="column is-narrow has-text-centered">
    <div class="dropdown is-up is-right is-hoverable" style="margin-top: -0.2em;">
        <div class="dropdown-trigger">
            <button class="button is-small" aria-haspopup="true">
                <span class="icon">
                    <i class="fas fa-globe"></i>
                </span>
                <span>English</span>
                <span class="icon is-small">
            <i class="fas fa-angle-down" aria-hidden="true"></i>
          </span>
            </button>
        </div>
        <div class="dropdown-menu has-text-left" role="menu" style="top:100%">
            <div class="dropdown-content">
            <!-- NOTE: 永遠回到首頁 -->
            
                <a href="/2020/12/01/write-conosle-log-1-without-alphanumeric/" class="dropdown-item">
                    繁體中文
                </a>
            
            </div>
        </div>
    </div>
</div>

        </div>
    </div>
</footer>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>



    
    
    
    
    
    
<script src="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/js/lightgallery-all.min.js"></script>
<script>
    (function ($) {
        $(document).ready(function () {
            if (typeof($.fn.lightGallery) === 'function') {
                $('.article.gallery').lightGallery({ selector: '.gallery-item' });
            }
        });
    })(jQuery);
</script>

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <style>
        .hljs {
            position: relative;
        }

        .hljs .clipboard-btn {
            float: right;
            color: #9a9a9a;
            background: none;
            border: none;
            cursor: pointer;
        }

        .hljs .clipboard-btn:hover {
          color: #8a8a8a;
        }

        .hljs > .clipboard-btn {
            display: none;
            position: absolute;
            right: 4px;
            top: 4px;
        }

        .hljs:hover > .clipboard-btn {
            display: inline;
        }

        .hljs > figcaption > .clipboard-btn {
            margin-right: 4px;
        }
    </style>
    <script>
      $(document).ready(function () {
        $('figure.hljs').each(function(i, figure) {
          var codeId = 'code-' + i;
          var code = figure.querySelector('.code');
          var copyButton = $('<button>Copy <i class="far fa-clipboard"></i></button>');
          code.id = codeId;
          copyButton.addClass('clipboard-btn');
          copyButton.attr('data-clipboard-target-id', codeId);

          var figcaption = figure.querySelector('figcaption');

          if (figcaption) {
            figcaption.append(copyButton[0]);
          } else {
            figure.prepend(copyButton[0]);
          }
        })

        var clipboard = new ClipboardJS('.clipboard-btn', {
          target: function(trigger) {
            return document.getElementById(trigger.getAttribute('data-clipboard-target-id'));
          }
        });
        clipboard.on('success', function(e) {
          e.clearSelection();
        })
      })
    </script>

    
    

    



<script src="/js/script.js?v=3.js"></script>


    
</body>
</html>